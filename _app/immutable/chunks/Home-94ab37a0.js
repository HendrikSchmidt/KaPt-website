import{S as j,i as S,s as w,k as d,l as p,m as v,h,n as g,b as k,J as H,f as m,g as L,d as E,t as _,L as N,o as P,w as q,x as A,y as B,z as C}from"./index-faa1c9d4.js";import{i as y}from"./i18n-5472911a.js";import{s as b}from"./utils-5677564c.js";import{I as D}from"./Image-cf568ab5.js";function z(s,n,l){const a=s.slice();return a[4]=n[l],a[6]=l,a}function I(s){let n,l;return n=new D({props:{img:s[4].attributes.Images.data[0].attributes,sizes:"150wv",src:"xlarge",lazy:s[6]>0,classString:"absolute saturate-0 "+(s[6]===s[1]?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){q(n.$$.fragment)},l(a){A(n.$$.fragment,a)},m(a,c){B(n,a,c),l=!0},p(a,c){const i={};c&2&&(i.classString="absolute saturate-0 "+(a[6]===a[1]?"opacity-100 z-10":"opacity-0 z-0")),n.$set(i)},i(a){l||(m(n.$$.fragment,a),l=!0)},o(a){_(n.$$.fragment,a),l=!1},d(a){C(n,a)}}}function J(s){let n,l,a,c,i=s[2],e=[];for(let t=0;t<i.length;t+=1)e[t]=I(z(s,i,t));const u=t=>_(e[t],1,1,()=>{e[t]=null});return{c(){n=d("div"),l=d("a");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){n=p(t,"DIV",{class:!0});var r=v(n);l=p(r,"A",{href:!0});var o=v(l);for(let f=0;f<e.length;f+=1)e[f].l(o);o.forEach(h),r.forEach(h),this.h()},h(){g(l,"href",a=y.getLocalizedSlug("projects",s[0])+"/"+b(s[2][s[1]].attributes.Nom)),g(n,"class","w-full overflow-hidden landing-image relative svelte-mmo2jt")},m(t,r){k(t,n,r),H(n,l);for(let o=0;o<e.length;o+=1)e[o].m(l,null);c=!0},p(t,[r]){if(r&6){i=t[2];let o;for(o=0;o<i.length;o+=1){const f=z(t,i,o);e[o]?(e[o].p(f,r),m(e[o],1)):(e[o]=I(f),e[o].c(),m(e[o],1),e[o].m(l,null))}for(L(),o=i.length;o<e.length;o+=1)u(o);E()}(!c||r&3&&a!==(a=y.getLocalizedSlug("projects",t[0])+"/"+b(t[2][t[1]].attributes.Nom)))&&g(l,"href",a)},i(t){if(!c){for(let r=0;r<i.length;r+=1)m(e[r]);c=!0}},o(t){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)_(e[r]);c=!1},d(t){t&&h(n),N(e,t)}}}function M(s,n,l){let{home:a}=n,{lang:c}=n;const i=a.Projets.data;let e=0;return P(()=>{const u=setInterval(()=>{l(1,e=(e+1)%i.length)},8e3);return()=>{clearInterval(u)}}),s.$$set=u=>{"home"in u&&l(3,a=u.home),"lang"in u&&l(0,c=u.lang)},[c,e,i,a]}class O extends j{constructor(n){super(),S(this,n,M,J,w,{home:3,lang:0})}}export{O as H};
