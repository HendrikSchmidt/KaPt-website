import{S as x,i as ee,s as te,e as S,b as y,v as q,M as le,f as M,g,d as p,h as d,k as j,q as ae,a as E,l as I,m as $,r as re,c as N,n as v,J as b,u as se,L as Q,O as ne,y as R,z as T,A as U,B as W}from"./index.2baf3ca1.js";import{i as L,s as A}from"./i18n.eaab2e67.js";import{I as X}from"./Image.ad4edac0.js";function C(i,e,a){const s=i.slice();return s[2]=e[a],s[4]=a,s}function H(i,e,a){const s=i.slice();return s[5]=e[a],s[7]=a,s}function J(i,e,a){const s=i.slice();return s[8]=e[a],s[10]=a,s}function O(i){let e,a,s;return a=new X({props:{img:i[8].attributes,sizes:Y,src:"small",lazy:i[4]>2||i[10]>6,classString:"object-cover saturate-0 hover:saturate-100"}}),{c(){e=j("div"),R(a.$$.fragment),this.h()},l(t){e=I(t,"DIV",{class:!0});var o=$(e);T(a.$$.fragment,o),o.forEach(d),this.h()},h(){v(e,"class","flex-none aspect-square w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(t,o){y(t,e,o),U(a,e,null),s=!0},p(t,o){const n={};o&1&&(n.img=t[8].attributes),o&1&&(n.lazy=t[4]>2||t[10]>6),a.$set(n)},i(t){s||(g(a.$$.fragment,t),s=!0)},o(t){p(a.$$.fragment,t),s=!1},d(t){t&&d(e),W(a)}}}function F(i){let e,a,s=i[2].attributes.Plans.data,t=[];for(let n=0;n<s.length;n+=1)t[n]=G(H(i,s,n));const o=n=>p(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=S()},l(n){for(let r=0;r<t.length;r+=1)t[r].l(n);e=S()},m(n,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,r);y(n,e,r),a=!0},p(n,r){if(r&1){s=n[2].attributes.Plans.data;let l;for(l=0;l<s.length;l+=1){const m=H(n,s,l);t[l]?(t[l].p(m,r),g(t[l],1)):(t[l]=G(m),t[l].c(),g(t[l],1),t[l].m(e.parentNode,e))}for(q(),l=s.length;l<t.length;l+=1)o(l);M()}},i(n){if(!a){for(let r=0;r<s.length;r+=1)g(t[r]);a=!0}},o(n){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)p(t[r]);a=!1},d(n){Q(t,n),n&&d(e)}}}function G(i){let e,a,s,t;return a=new X({props:{img:i[5].attributes,sizes:Y,src:"small",lazy:i[4]>2||i[2].attributes.Images.data.length+i[7]>6,classString:"object-cover saturate-0 hover:saturate-100"}}),{c(){e=j("div"),R(a.$$.fragment),s=E(),this.h()},l(o){e=I(o,"DIV",{class:!0});var n=$(e);T(a.$$.fragment,n),s=N(n),n.forEach(d),this.h()},h(){v(e,"class","flex-none aspect-square w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(o,n){y(o,e,n),U(a,e,null),b(e,s),t=!0},p(o,n){const r={};n&1&&(r.img=o[5].attributes),n&1&&(r.lazy=o[4]>2||o[2].attributes.Images.data.length+o[7]>6),a.$set(r)},i(o){t||(g(a.$$.fragment,o),t=!0)},o(o){p(a.$$.fragment,o),t=!1},d(o){o&&d(e),W(a)}}}function K(i,e){let a,s,t,o=e[2].attributes.Nom+"",n,r,l,m,V,P,k,w=e[2].attributes.Images.data,c=[];for(let u=0;u<w.length;u+=1)c[u]=O(J(e,w,u));const Z=u=>p(c[u],1,1,()=>{c[u]=null});let _=e[2].attributes.MontrePlansDansProjets&&F(e);return{key:i,first:null,c(){a=j("a"),s=j("div"),t=j("h2"),n=ae(o),r=E(),l=j("div");for(let u=0;u<c.length;u+=1)c[u].c();m=E(),_&&_.c(),V=E(),this.h()},l(u){a=I(u,"A",{class:!0,href:!0});var h=$(a);s=I(h,"DIV",{class:!0});var f=$(s);t=I(f,"H2",{class:!0});var z=$(t);n=re(z,o),z.forEach(d),f.forEach(d),r=N(h),l=I(h,"DIV",{class:!0});var D=$(l);for(let B=0;B<c.length;B+=1)c[B].l(D);m=N(D),_&&_.l(D),D.forEach(d),V=N(h),h.forEach(d),this.h()},h(){v(t,"class","font-normal"),v(s,"class","py-3 mb-5 prose sm:w-2/3 lg:w-1/2 border-b-2 border-zinc-900"),v(l,"class","flex w-full overflow-scroll"),v(a,"class","w-full pb-20 cursor-pointer"),v(a,"href",P=L.getLocalizedSlug("projects",e[1])+"/"+A(e[2].attributes.Nom)),this.first=a},m(u,h){y(u,a,h),b(a,s),b(s,t),b(t,n),b(a,r),b(a,l);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(l,null);b(l,m),_&&_.m(l,null),b(a,V),k=!0},p(u,h){if(e=u,(!k||h&1)&&o!==(o=e[2].attributes.Nom+"")&&se(n,o),h&1){w=e[2].attributes.Images.data;let f;for(f=0;f<w.length;f+=1){const z=J(e,w,f);c[f]?(c[f].p(z,h),g(c[f],1)):(c[f]=O(z),c[f].c(),g(c[f],1),c[f].m(l,m))}for(q(),f=w.length;f<c.length;f+=1)Z(f);M()}e[2].attributes.MontrePlansDansProjets?_?(_.p(e,h),h&1&&g(_,1)):(_=F(e),_.c(),g(_,1),_.m(l,null)):_&&(q(),p(_,1,1,()=>{_=null}),M()),(!k||h&3&&P!==(P=L.getLocalizedSlug("projects",e[1])+"/"+A(e[2].attributes.Nom)))&&v(a,"href",P)},i(u){if(!k){for(let h=0;h<w.length;h+=1)g(c[h]);g(_),k=!0}},o(u){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)p(c[h]);p(_),k=!1},d(u){u&&d(a),Q(c,u),_&&_.d()}}}function oe(i){let e=[],a=new Map,s,t,o=i[0];const n=r=>r[2].id;for(let r=0;r<o.length;r+=1){let l=C(i,o,r),m=n(l);a.set(m,e[r]=K(m,l))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();s=S()},l(r){for(let l=0;l<e.length;l+=1)e[l].l(r);s=S()},m(r,l){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(r,l);y(r,s,l),t=!0},p(r,[l]){l&3&&(o=r[0],q(),e=le(e,l,n,1,r,o,a,s.parentNode,ne,K,s,C),M())},i(r){if(!t){for(let l=0;l<o.length;l+=1)g(e[l]);t=!0}},o(r){for(let l=0;l<e.length;l+=1)p(e[l]);t=!1},d(r){for(let l=0;l<e.length;l+=1)e[l].d(r);r&&d(s)}}}let Y="600px";function ie(i,e,a){let{projects:s}=e,{lang:t}=e;return i.$$set=o=>{"projects"in o&&a(0,s=o.projects),"lang"in o&&a(1,t=o.lang)},[s,t]}class he extends x{constructor(e){super(),ee(this,e,ie,oe,te,{projects:0,lang:1})}}export{he as P};
