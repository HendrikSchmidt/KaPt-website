import{S as R,i as F,s as K,k as w,l as b,m as S,h as m,n as _,b as C,v as G,M as O,f as H,g as k,d as z,o as P,q as Q,a as q,r as U,c as D,J as p,u as W,L as X,N as Y,y as Z,z as $,A as ee,B as te}from"./index.3c7b00ab.js";import{i as V,s as L}from"./i18n.1508297c.js";import{I as le}from"./Image.1dfe3605.js";function M(g,l,t){const e=g.slice();return e[3]=l[t],e}function j(g,l,t){const e=g.slice();return e[6]=l[t],e[8]=t,e}function A(g){let l,t;return l=new le({props:{img:g[6].attributes,sizes:"150wv",src:"xlarge",lazy:g[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(g[8]===g[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){Z(l.$$.fragment)},l(e){$(l.$$.fragment,e)},m(e,c){ee(l,e,c),t=!0},p(e,c){const f={};c&1&&(f.img=e[6].attributes),c&1&&(f.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),l.$set(f)},i(e){t||(k(l.$$.fragment,e),t=!0)},o(e){z(l.$$.fragment,e),t=!1},d(e){te(l,e)}}}function B(g,l){let t,e,c,f,a=l[3].attributes.Nom+"",s,o,u,x,I,v,d=l[3].imagesToShow,n=[];for(let i=0;i<d.length;i+=1)n[i]=A(j(l,d,i));const J=i=>z(n[i],1,1,()=>{n[i]=null});return{key:g,first:null,c(){t=w("div"),e=w("a"),c=w("div"),f=w("h1"),s=Q(a),o=q(),u=w("div");for(let i=0;i<n.length;i+=1)n[i].c();I=q(),this.h()},l(i){t=b(i,"DIV",{class:!0});var h=S(t);e=b(h,"A",{class:!0,href:!0});var r=S(e);c=b(r,"DIV",{class:!0});var y=S(c);f=b(y,"H1",{class:!0});var E=S(f);s=U(E,a),E.forEach(m),y.forEach(m),o=D(r),u=b(r,"DIV",{class:!0});var N=S(u);for(let T=0;T<n.length;T+=1)n[T].l(N);N.forEach(m),r.forEach(m),I=D(h),h.forEach(m),this.h()},h(){_(f,"class","pb-5"),_(c,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),_(u,"class","w-full overflow-hidden landing-image relative flex-auto"),_(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),_(e,"href",x=V.getLocalizedSlug("news",l[1])+"/"+L(l[3].attributes.Nom)),_(t,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=t},m(i,h){C(i,t,h),p(t,e),p(e,c),p(c,f),p(f,s),p(e,o),p(e,u);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(u,null);p(t,I),v=!0},p(i,h){if(l=i,(!v||h&1)&&a!==(a=l[3].attributes.Nom+"")&&W(s,a),h&1){d=l[3].imagesToShow;let r;for(r=0;r<d.length;r+=1){const y=j(l,d,r);n[r]?(n[r].p(y,h),k(n[r],1)):(n[r]=A(y),n[r].c(),k(n[r],1),n[r].m(u,null))}for(G(),r=d.length;r<n.length;r+=1)J(r);H()}(!v||h&3&&x!==(x=V.getLocalizedSlug("news",l[1])+"/"+L(l[3].attributes.Nom)))&&_(e,"href",x)},i(i){if(!v){for(let h=0;h<d.length;h+=1)k(n[h]);v=!0}},o(i){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)z(n[h]);v=!1},d(i){i&&m(t),X(n,i)}}}function ae(g){let l,t=[],e=new Map,c,f=g[0];const a=s=>s[3].id;for(let s=0;s<f.length;s+=1){let o=M(g,f,s),u=a(o);e.set(u,t[s]=B(u,o))}return{c(){l=w("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){l=b(s,"DIV",{class:!0});var o=S(l);for(let u=0;u<t.length;u+=1)t[u].l(o);o.forEach(m),this.h()},h(){_(l,"class","w-full flex flex-row flex-wrap")},m(s,o){C(s,l,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);c=!0},p(s,[o]){o&3&&(f=s[0],G(),t=O(t,o,a,1,s,f,e,l,Y,B,null,M),H())},i(s){if(!c){for(let o=0;o<f.length;o+=1)k(t[o]);c=!0}},o(s){for(let o=0;o<t.length;o+=1)z(t[o]);c=!1},d(s){s&&m(l);for(let o=0;o<t.length;o+=1)t[o].d()}}}function se(g,l,t){let{news:e}=l,{lang:c}=l;e=e.map(a=>({...a,imagesToShow:a.attributes.Images.data,idxToShow:0})),console.log(e);const f=()=>{for(let a=0;a<e.length;a++)setTimeout(()=>{t(0,e[a]={...e[a],idxToShow:(e[a].idxToShow+1)%e[a].imagesToShow.length},e)},a*1e3)};return P(()=>{const a=setInterval(f,5e3);return()=>{clearInterval(a)}}),g.$$set=a=>{"news"in a&&t(0,e=a.news),"lang"in a&&t(1,c=a.lang)},[e,c]}class ie extends R{constructor(l){super(),F(this,l,se,ae,K,{news:0,lang:1})}}export{ie as N};
