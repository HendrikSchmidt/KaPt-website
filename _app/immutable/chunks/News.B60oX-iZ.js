import{s as U,e as b,c as w,a as k,d as g,j as m,i as N,o as W,q as M,t as J,b as K,f as p,g as O,n as A,l as B,m as C,k as X}from"./scheduler.Bcy9xcpX.js";import{S as Y,i as Z,g as D,b as x,e as L,t as S,c as $,a as ee,m as te,d as le}from"./index.otUheZzG.js";import{e as I,u as ae,o as oe}from"./each.BYkZsd2z.js";import{i as T}from"./i18n.Rc3wl0A_.js";import{s as G}from"./utils.FQsKg6al.js";import{I as se}from"./Image.BUGM-BLF.js";function H(h,t,l){const e=h.slice();return e[3]=t[l],e}function P(h,t,l){const e=h.slice();return e[6]=t[l],e[8]=l,e}function re(h){let t=[],l=new Map,e,s,n=I(h[0]);const o=r=>r[3].id;for(let r=0;r<n.length;r+=1){let a=H(h,n,r),c=o(a);l.set(c,t[r]=F(c,a))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=M()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=M()},m(r,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(r,a);N(r,e,a),s=!0},p(r,a){a&3&&(n=I(r[0]),D(),t=ae(t,a,o,1,r,n,l,e.parentNode,oe,F,e,H),L())},i(r){if(!s){for(let a=0;a<n.length;a+=1)S(t[a]);s=!0}},o(r){for(let a=0;a<t.length;a+=1)x(t[a]);s=!1},d(r){r&&g(e);for(let a=0;a<t.length;a+=1)t[a].d(r)}}}function ne(h){let t,l=T.getLocalizedString("noNews",h[1])+"",e;return{c(){t=b("p"),e=J(l),this.h()},l(s){t=w(s,"P",{class:!0});var n=k(t);e=K(n,l),n.forEach(g),this.h()},h(){m(t,"class","w-full text-center text-xl")},m(s,n){N(s,t,n),p(t,e)},p(s,n){n&2&&l!==(l=T.getLocalizedString("noNews",s[1])+"")&&O(e,l)},i:A,o:A,d(s){s&&g(t)}}}function R(h){let t,l;return t=new se({props:{img:h[6].attributes,sizes:"150wv",src:"xlarge",lazy:h[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(h[8]===h[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){$(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const n={};s&1&&(n.img=e[6].attributes),s&1&&(n.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),t.$set(n)},i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function F(h,t){let l,e,s,n,o=t[3].attributes.Nom+"",r,a,c,d,E,y,v=I(t[3].imagesToShow),u=[];for(let f=0;f<v.length;f+=1)u[f]=R(P(t,v,f));const Q=f=>x(u[f],1,1,()=>{u[f]=null});return{key:h,first:null,c(){l=b("div"),e=b("a"),s=b("div"),n=b("h1"),r=J(o),a=B(),c=b("div");for(let f=0;f<u.length;f+=1)u[f].c();E=B(),this.h()},l(f){l=w(f,"DIV",{class:!0});var _=k(l);e=w(_,"A",{class:!0,href:!0});var i=k(e);s=w(i,"DIV",{class:!0});var z=k(s);n=w(z,"H1",{class:!0});var V=k(n);r=K(V,o),V.forEach(g),z.forEach(g),a=C(i),c=w(i,"DIV",{class:!0});var j=k(c);for(let q=0;q<u.length;q+=1)u[q].l(j);j.forEach(g),i.forEach(g),E=C(_),_.forEach(g),this.h()},h(){m(n,"class","pb-5"),m(s,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),m(c,"class","w-full overflow-hidden landing-image relative flex-auto"),m(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),m(e,"href",d=T.getLocalizedSlug("news",t[1])+"/"+G(t[3].attributes.Nom)),m(l,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=l},m(f,_){N(f,l,_),p(l,e),p(e,s),p(s,n),p(n,r),p(e,a),p(e,c);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(c,null);p(l,E),y=!0},p(f,_){if(t=f,(!y||_&1)&&o!==(o=t[3].attributes.Nom+"")&&O(r,o),_&1){v=I(t[3].imagesToShow);let i;for(i=0;i<v.length;i+=1){const z=P(t,v,i);u[i]?(u[i].p(z,_),S(u[i],1)):(u[i]=R(z),u[i].c(),S(u[i],1),u[i].m(c,null))}for(D(),i=v.length;i<u.length;i+=1)Q(i);L()}(!y||_&3&&d!==(d=T.getLocalizedSlug("news",t[1])+"/"+G(t[3].attributes.Nom)))&&m(e,"href",d)},i(f){if(!y){for(let _=0;_<v.length;_+=1)S(u[_]);y=!0}},o(f){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)x(u[_]);y=!1},d(f){f&&g(l),X(u,f)}}}function ie(h){let t,l,e,s;const n=[ne,re],o=[];function r(a,c){return a[0].length===0?0:1}return l=r(h),e=o[l]=n[l](h),{c(){t=b("div"),e.c(),this.h()},l(a){t=w(a,"DIV",{class:!0});var c=k(t);e.l(c),c.forEach(g),this.h()},h(){m(t,"class","w-full flex flex-row flex-wrap")},m(a,c){N(a,t,c),o[l].m(t,null),s=!0},p(a,[c]){let d=l;l=r(a),l===d?o[l].p(a,c):(D(),x(o[d],1,1,()=>{o[d]=null}),L(),e=o[l],e?e.p(a,c):(e=o[l]=n[l](a),e.c()),S(e,1),e.m(t,null))},i(a){s||(S(e),s=!0)},o(a){x(e),s=!1},d(a){a&&g(t),o[l].d()}}}function ce(h,t,l){let{news:e}=t,{lang:s}=t;e=e.map(o=>({...o,imagesToShow:o.attributes.Images.data,idxToShow:0}));const n=()=>{for(let o=0;o<e.length;o++)setTimeout(()=>{l(0,e[o]={...e[o],idxToShow:(e[o].idxToShow+1)%e[o].imagesToShow.length},e)},o*1e3)};return W(()=>{const o=setInterval(n,5e3);return()=>{clearInterval(o)}}),h.$$set=o=>{"news"in o&&l(0,e=o.news),"lang"in o&&l(1,s=o.lang)},[e,s]}class de extends Y{constructor(t){super(),Z(this,t,ce,ie,U,{news:0,lang:1})}}export{de as N};
