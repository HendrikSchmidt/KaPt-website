import{S as J,i as M,s as O,k as w,l as b,m as k,h as _,b as S,g as B,_ as F,d as C,f as y,t as j,q as G,a as D,r as K,c as E,n as g,J as p,u as Q,L as R,$ as T,w as U,x as W,y as X,z as Y}from"./index-1ae1edf2.js";import{i as V}from"./i18n-5472911a.js";import{s as q}from"./utils-fa1bcb77.js";import{I as Z}from"./Image-0c5f4a39.js";function L(h,t,e){const s=h.slice();return s[2]=t[e],s[4]=e,s}function $(h,t,e){const s=h.slice();return s[5]=t[e],s[7]=e,s}function P(h){let t,e,s,f;return e=new Z({props:{img:h[5].attributes,sizes:`(max-width: 639px) 90vw,
                    (max-width: 767px) 75vw,
                    (max-width: 1023px) 50vw,
                    (max-width: 1279px) 40vw,
                    (max-width: 1535px) 30vw,
                    25vw`,src:"small",lazy:h[4]>2||h[7]>6,classString:"w-full h-auto aspect-square object-cover object-center saturate-0 hover:saturate-100 transition duration-500 transform hover:scale-110"}}),{c(){t=w("div"),U(e.$$.fragment),s=D(),this.h()},l(a){t=b(a,"DIV",{class:!0});var c=k(t);W(e.$$.fragment,c),s=E(c),c.forEach(_),this.h()},h(){g(t,"class","flex-none w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(a,c){S(a,t,c),X(e,t,null),p(t,s),f=!0},p(a,c){const r={};c&1&&(r.img=a[5].attributes),c&1&&(r.lazy=a[4]>2||a[7]>6),e.$set(r)},i(a){f||(y(e.$$.fragment,a),f=!0)},o(a){j(e.$$.fragment,a),f=!1},d(a){a&&_(t),Y(e)}}}function A(h,t){let e,s,f,a=t[2].attributes.Nom+"",c,r,l,m,I,v,d=t[2].attributes.Images.data,o=[];for(let n=0;n<d.length;n+=1)o[n]=P($(t,d,n));const H=n=>j(o[n],1,1,()=>{o[n]=null});return{key:h,first:null,c(){e=w("a"),s=w("div"),f=w("h2"),c=G(a),r=D(),l=w("div");for(let n=0;n<o.length;n+=1)o[n].c();m=D(),this.h()},l(n){e=b(n,"A",{class:!0,href:!0});var u=k(e);s=b(u,"DIV",{class:!0});var i=k(s);f=b(i,"H2",{class:!0});var x=k(f);c=K(x,a),x.forEach(_),i.forEach(_),r=E(u),l=b(u,"DIV",{class:!0});var N=k(l);for(let z=0;z<o.length;z+=1)o[z].l(N);N.forEach(_),m=E(u),u.forEach(_),this.h()},h(){g(f,"class","font-normal"),g(s,"class","py-3 mb-5 prose sm:w-2/3 lg:w-1/2 border-b-2 border-zinc-900"),g(l,"class","flex w-full overflow-scroll"),g(e,"class","pb-20 cursor-pointer"),g(e,"href",I=V.getLocalizedSlug("projects",t[1])+"/"+q(t[2].attributes.Nom)),this.first=e},m(n,u){S(n,e,u),p(e,s),p(s,f),p(f,c),p(e,r),p(e,l);for(let i=0;i<o.length;i+=1)o[i].m(l,null);p(e,m),v=!0},p(n,u){if(t=n,(!v||u&1)&&a!==(a=t[2].attributes.Nom+"")&&Q(c,a),u&1){d=t[2].attributes.Images.data;let i;for(i=0;i<d.length;i+=1){const x=$(t,d,i);o[i]?(o[i].p(x,u),y(o[i],1)):(o[i]=P(x),o[i].c(),y(o[i],1),o[i].m(l,null))}for(B(),i=d.length;i<o.length;i+=1)H(i);C()}(!v||u&3&&I!==(I=V.getLocalizedSlug("projects",t[1])+"/"+q(t[2].attributes.Nom)))&&g(e,"href",I)},i(n){if(!v){for(let u=0;u<d.length;u+=1)y(o[u]);v=!0}},o(n){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)j(o[u]);v=!1},d(n){n&&_(e),R(o,n)}}}function ee(h){let t,e=[],s=new Map,f,a=h[0];const c=r=>r[2].id;for(let r=0;r<a.length;r+=1){let l=L(h,a,r),m=c(l);s.set(m,e[r]=A(m,l))}return{c(){t=w("div");for(let r=0;r<e.length;r+=1)e[r].c()},l(r){t=b(r,"DIV",{});var l=k(t);for(let m=0;m<e.length;m+=1)e[m].l(l);l.forEach(_)},m(r,l){S(r,t,l);for(let m=0;m<e.length;m+=1)e[m].m(t,null);f=!0},p(r,[l]){l&3&&(a=r[0],B(),e=F(e,l,c,1,r,a,s,t,T,A,null,L),C())},i(r){if(!f){for(let l=0;l<a.length;l+=1)y(e[l]);f=!0}},o(r){for(let l=0;l<e.length;l+=1)j(e[l]);f=!1},d(r){r&&_(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function te(h,t,e){let{projects:s}=t,{lang:f}=t;return s=s.map(a=>{let c=a.attributes.Description.slice(0,500);return c=`${c.slice(0,c.lastIndexOf(" "))} ...`,{...a,attributes:{...a.attributes,shortDescription:c}}}),h.$$set=a=>{"projects"in a&&e(0,s=a.projects),"lang"in a&&e(1,f=a.lang)},[s,f]}class oe extends J{constructor(t){super(),M(this,t,te,ee,O,{projects:0,lang:1})}}export{oe as P};
