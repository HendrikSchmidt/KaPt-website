import{S as Z,i as ee,s as te,k,l as j,m as I,h as d,b as y,g as N,_ as le,d as V,f as g,t as p,q as ae,a as E,r as re,c as S,n as b,J as v,u as se,L as O,$ as ne,w as Q,x as R,y as T,z as U,e as M}from"./index-faa1c9d4.js";import{i as x}from"./i18n-6d3a9dab.js";import{s as B}from"./utils-9ef8174b.js";import{I as W}from"./Image-b80ca624.js";function A(i,t,e){const n=i.slice();return n[2]=t[e],n[4]=e,n}function C(i,t,e){const n=i.slice();return n[5]=t[e],n[7]=e,n}function H(i,t,e){const n=i.slice();return n[8]=t[e],n[10]=e,n}function J(i){let t,e,n;return e=new W({props:{img:i[8].attributes,sizes:X,src:"small",lazy:i[4]>2||i[10]>6,classString:"aspect-square object-cover saturate-0 hover:saturate-100"}}),{c(){t=k("div"),Q(e.$$.fragment),this.h()},l(l){t=j(l,"DIV",{class:!0});var o=I(t);R(e.$$.fragment,o),o.forEach(d),this.h()},h(){b(t,"class","flex-none w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(l,o){y(l,t,o),T(e,t,null),n=!0},p(l,o){const s={};o&1&&(s.img=l[8].attributes),o&1&&(s.lazy=l[4]>2||l[10]>6),e.$set(s)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){p(e.$$.fragment,l),n=!1},d(l){l&&d(t),U(e)}}}function F(i){let t,e,n=i[2].attributes.Plans.data,l=[];for(let s=0;s<n.length;s+=1)l[s]=G(C(i,n,s));const o=s=>p(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=M()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);t=M()},m(s,r){for(let a=0;a<l.length;a+=1)l[a].m(s,r);y(s,t,r),e=!0},p(s,r){if(r&1){n=s[2].attributes.Plans.data;let a;for(a=0;a<n.length;a+=1){const _=C(s,n,a);l[a]?(l[a].p(_,r),g(l[a],1)):(l[a]=G(_),l[a].c(),g(l[a],1),l[a].m(t.parentNode,t))}for(N(),a=n.length;a<l.length;a+=1)o(a);V()}},i(s){if(!e){for(let r=0;r<n.length;r+=1)g(l[r]);e=!0}},o(s){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)p(l[r]);e=!1},d(s){O(l,s),s&&d(t)}}}function G(i){let t,e,n,l;return e=new W({props:{img:i[5].attributes,sizes:X,src:"small",lazy:i[4]>2||i[2].attributes.Images.data.length+i[7]>6,classString:"aspect-square object-cover saturate-0 hover:saturate-100"}}),{c(){t=k("div"),Q(e.$$.fragment),n=E(),this.h()},l(o){t=j(o,"DIV",{class:!0});var s=I(t);R(e.$$.fragment,s),n=S(s),s.forEach(d),this.h()},h(){b(t,"class","flex-none w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(o,s){y(o,t,s),T(e,t,null),v(t,n),l=!0},p(o,s){const r={};s&1&&(r.img=o[5].attributes),s&1&&(r.lazy=o[4]>2||o[2].attributes.Images.data.length+o[7]>6),e.$set(r)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){o&&d(t),U(e)}}}function K(i,t){let e,n,l,o=t[2].attributes.Nom+"",s,r,a,_,q,P,$,w=t[2].attributes.Images.data,c=[];for(let f=0;f<w.length;f+=1)c[f]=J(H(t,w,f));const Y=f=>p(c[f],1,1,()=>{c[f]=null});let m=t[2].attributes.MontrePlansDansProjets&&F(t);return{key:i,first:null,c(){e=k("a"),n=k("div"),l=k("h2"),s=ae(o),r=E(),a=k("div");for(let f=0;f<c.length;f+=1)c[f].c();_=E(),m&&m.c(),q=E(),this.h()},l(f){e=j(f,"A",{class:!0,href:!0});var u=I(e);n=j(u,"DIV",{class:!0});var h=I(n);l=j(h,"H2",{class:!0});var z=I(l);s=re(z,o),z.forEach(d),h.forEach(d),r=S(u),a=j(u,"DIV",{class:!0});var D=I(a);for(let L=0;L<c.length;L+=1)c[L].l(D);_=S(D),m&&m.l(D),D.forEach(d),q=S(u),u.forEach(d),this.h()},h(){b(l,"class","font-normal"),b(n,"class","py-3 mb-5 prose sm:w-2/3 lg:w-1/2 border-b-2 border-zinc-900"),b(a,"class","flex w-full overflow-scroll"),b(e,"class","pb-20 cursor-pointer"),b(e,"href",P=x.getLocalizedSlug("projects",t[1])+"/"+B(t[2].attributes.Nom)),this.first=e},m(f,u){y(f,e,u),v(e,n),v(n,l),v(l,s),v(e,r),v(e,a);for(let h=0;h<c.length;h+=1)c[h].m(a,null);v(a,_),m&&m.m(a,null),v(e,q),$=!0},p(f,u){if(t=f,(!$||u&1)&&o!==(o=t[2].attributes.Nom+"")&&se(s,o),u&1){w=t[2].attributes.Images.data;let h;for(h=0;h<w.length;h+=1){const z=H(t,w,h);c[h]?(c[h].p(z,u),g(c[h],1)):(c[h]=J(z),c[h].c(),g(c[h],1),c[h].m(a,_))}for(N(),h=w.length;h<c.length;h+=1)Y(h);V()}t[2].attributes.MontrePlansDansProjets?m?(m.p(t,u),u&1&&g(m,1)):(m=F(t),m.c(),g(m,1),m.m(a,null)):m&&(N(),p(m,1,1,()=>{m=null}),V()),(!$||u&3&&P!==(P=x.getLocalizedSlug("projects",t[1])+"/"+B(t[2].attributes.Nom)))&&b(e,"href",P)},i(f){if(!$){for(let u=0;u<w.length;u+=1)g(c[u]);g(m),$=!0}},o(f){c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)p(c[u]);p(m),$=!1},d(f){f&&d(e),O(c,f),m&&m.d()}}}function oe(i){let t,e=[],n=new Map,l,o=i[0];const s=r=>r[2].id;for(let r=0;r<o.length;r+=1){let a=A(i,o,r),_=s(a);n.set(_,e[r]=K(_,a))}return{c(){t=k("div");for(let r=0;r<e.length;r+=1)e[r].c()},l(r){t=j(r,"DIV",{});var a=I(t);for(let _=0;_<e.length;_+=1)e[_].l(a);a.forEach(d)},m(r,a){y(r,t,a);for(let _=0;_<e.length;_+=1)e[_].m(t,null);l=!0},p(r,[a]){a&3&&(o=r[0],N(),e=le(e,a,s,1,r,o,n,t,ne,K,null,A),V())},i(r){if(!l){for(let a=0;a<o.length;a+=1)g(e[a]);l=!0}},o(r){for(let a=0;a<e.length;a+=1)p(e[a]);l=!1},d(r){r&&d(t);for(let a=0;a<e.length;a+=1)e[a].d()}}}let X="(max-width: 639px) 90vw, (max-width: 767px) 75vw, (max-width: 1023px) 50vw, (max-width: 1279px) 40vw, (max-width: 1535px) 30vw, 25vw";function ie(i,t,e){let{projects:n}=t,{lang:l}=t;return i.$$set=o=>{"projects"in o&&e(0,n=o.projects),"lang"in o&&e(1,l=o.lang)},[n,l]}class me extends Z{constructor(t){super(),ee(this,t,ie,oe,te,{projects:0,lang:1})}}export{me as P};
