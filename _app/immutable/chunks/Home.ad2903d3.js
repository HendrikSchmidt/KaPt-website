import{S as k,i as w,s as S,k as b,l as z,m as y,h as u,n as m,b as I,g as c,d as f,o as j,v as N,f as $,M as A,y as B,z as E,A as H,B as L}from"./index.2dde3162.js";import{i as _,s as d}from"./i18n.e21f67ce.js";import{I as M}from"./Image.b51d6c88.js";function p(i,l,o){const e=i.slice();return e[6]=l[o],e[8]=o,e}function q(i){let l,o,e,n=i[1],a=[];for(let r=0;r<n.length;r+=1)a[r]=v(p(i,n,r));const h=r=>f(a[r],1,1,()=>{a[r]=null});return{c(){l=b("a");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){l=z(r,"A",{href:!0});var s=y(l);for(let t=0;t<a.length;t+=1)a[t].l(s);s.forEach(u),this.h()},h(){m(l,"href",o=i[1][i[0]].url)},m(r,s){I(r,l,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(l,null);e=!0},p(r,s){if(s&3){n=r[1];let t;for(t=0;t<n.length;t+=1){const g=p(r,n,t);a[t]?(a[t].p(g,s),c(a[t],1)):(a[t]=v(g),a[t].c(),c(a[t],1),a[t].m(l,null))}for(N(),t=n.length;t<a.length;t+=1)h(t);$()}(!e||s&1&&o!==(o=r[1][r[0]].url))&&m(l,"href",o)},i(r){if(!e){for(let s=0;s<n.length;s+=1)c(a[s]);e=!0}},o(r){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)f(a[s]);e=!1},d(r){r&&u(l),A(a,r)}}}function v(i){let l,o;return l=new M({props:{img:i[6].attributes.Images.data[0].attributes,sizes:"150wv",src:"xlarge",lazy:i[8]>0,pictureRelative:!1,classString:"absolute object-cover saturate-0 hover:saturate-100 "+(i[8]===i[0]?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){B(l.$$.fragment)},l(e){E(l.$$.fragment,e)},m(e,n){H(l,e,n),o=!0},p(e,n){const a={};n&1&&(a.classString="absolute object-cover saturate-0 hover:saturate-100 "+(e[8]===e[0]?"opacity-100 z-10":"opacity-0 z-0")),l.$set(a)},i(e){o||(c(l.$$.fragment,e),o=!0)},o(e){f(l.$$.fragment,e),o=!1},d(e){L(l,e)}}}function C(i){let l,o,e=i[1].length&&q(i);return{c(){l=b("div"),e&&e.c(),this.h()},l(n){l=z(n,"DIV",{class:!0});var a=y(l);e&&e.l(a),a.forEach(u),this.h()},h(){m(l,"class","w-full overflow-hidden landing-image relative aspect-[4/3] md:aspect-[3/2]")},m(n,a){I(n,l,a),e&&e.m(l,null),o=!0},p(n,[a]){n[1].length&&e.p(n,a)},i(n){o||(c(e),o=!0)},o(n){f(e),o=!1},d(n){n&&u(l),e&&e.d()}}}function D(i,l,o){let{home:e}=l,{lang:n}=l;const a=e.Projets.data.map(t=>({...t,url:`${_.getLocalizedSlug("projects",n)}/${d(t.attributes.Nom)}`})),h=e.News.data.map(t=>({...t,url:`${_.getLocalizedSlug("news",n)}/${d(t.attributes.Nom)}`})),r=a.concat(h);let s=0;return j(()=>{const t=setInterval(()=>{o(0,s=(s+1)%r.length)},5e3);return()=>{clearInterval(t)}}),i.$$set=t=>{"home"in t&&o(2,e=t.home),"lang"in t&&o(3,n=t.lang)},[s,r,e,n]}class F extends k{constructor(l){super(),w(this,l,D,C,S,{home:2,lang:3})}}export{F as H};
