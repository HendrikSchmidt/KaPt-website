import{s as w,f as y,g as z,h as I,d as u,j as h,i as k,o as S,E as j}from"./scheduler.c0d9be51.js";import{S as E,i as N,a as c,t as f,g as $,c as H,b as L,d as q,m as A,e as B}from"./index.44525060.js";import{e as _}from"./each.d35045f2.js";import{i as d}from"./i18n.c923d40e.js";import{s as p}from"./utils.67f7d3c7.js";import{I as C}from"./Image.ec737e29.js";function v(i,r,n){const e=i.slice();return e[6]=r[n],e[8]=n,e}function D(i){let r,n,e,o=_(i[1]),a=[];for(let l=0;l<o.length;l+=1)a[l]=b(v(i,o,l));const m=l=>f(a[l],1,1,()=>{a[l]=null});return{c(){r=y("a");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){r=z(l,"A",{href:!0});var s=I(r);for(let t=0;t<a.length;t+=1)a[t].l(s);s.forEach(u),this.h()},h(){h(r,"href",n=i[1][i[0]].url)},m(l,s){k(l,r,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(r,null);e=!0},p(l,s){if(s&3){o=_(l[1]);let t;for(t=0;t<o.length;t+=1){const g=v(l,o,t);a[t]?(a[t].p(g,s),c(a[t],1)):(a[t]=b(g),a[t].c(),c(a[t],1),a[t].m(r,null))}for($(),t=o.length;t<a.length;t+=1)m(t);H()}(!e||s&1&&n!==(n=l[1][l[0]].url))&&h(r,"href",n)},i(l){if(!e){for(let s=0;s<o.length;s+=1)c(a[s]);e=!0}},o(l){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)f(a[s]);e=!1},d(l){l&&u(r),j(a,l)}}}function b(i){let r,n;return r=new C({props:{img:i[6].attributes.Images.data[0].attributes,sizes:"150wv",src:"xlarge",lazy:i[8]>0,pictureRelative:!1,classString:"absolute object-cover saturate-0 hover:saturate-100 "+(i[8]===i[0]?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){L(r.$$.fragment)},l(e){q(r.$$.fragment,e)},m(e,o){A(r,e,o),n=!0},p(e,o){const a={};o&1&&(a.classString="absolute object-cover saturate-0 hover:saturate-100 "+(e[8]===e[0]?"opacity-100 z-10":"opacity-0 z-0")),r.$set(a)},i(e){n||(c(r.$$.fragment,e),n=!0)},o(e){f(r.$$.fragment,e),n=!1},d(e){B(r,e)}}}function M(i){let r,n,e=i[1].length&&D(i);return{c(){r=y("div"),e&&e.c(),this.h()},l(o){r=z(o,"DIV",{class:!0});var a=I(r);e&&e.l(a),a.forEach(u),this.h()},h(){h(r,"class","w-full overflow-hidden landing-image relative aspect-[4/3] md:aspect-[3/2]")},m(o,a){k(o,r,a),e&&e.m(r,null),n=!0},p(o,[a]){o[1].length&&e.p(o,a)},i(o){n||(c(e),n=!0)},o(o){f(e),n=!1},d(o){o&&u(r),e&&e.d()}}}function P(i,r,n){let{home:e}=r,{lang:o}=r;const a=e.Projets.data.map(t=>({...t,url:`${d.getLocalizedSlug("projects",o)}/${p(t.attributes.Nom)}`})),m=e.News.data.map(t=>({...t,url:`${d.getLocalizedSlug("news",o)}/${p(t.attributes.Nom)}`})),l=a.concat(m);let s=0;return S(()=>{const t=setInterval(()=>{n(0,s=(s+1)%l.length)},5e3);return()=>{clearInterval(t)}}),i.$$set=t=>{"home"in t&&n(2,e=t.home),"lang"in t&&n(3,o=t.lang)},[s,l,e,o]}class O extends E{constructor(r){super(),N(this,r,P,M,w,{home:2,lang:3})}}export{O as H};
