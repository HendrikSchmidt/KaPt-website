import{s as F,f as b,g as w,h as y,d as m,j as _,i as C,o as J,l as K,a as N,m as O,c as V,B as p,n as Q,E as U}from"./scheduler.c0d9be51.js";import{S as W,i as X,g as G,c as H,a as x,t as S,b as Y,d as Z,m as $,e as ee}from"./index.44525060.js";import{e as j,u as te,o as ae}from"./each.d35045f2.js";import{i as q}from"./i18n.0b2147fe.js";import{s as B}from"./utils.67f7d3c7.js";import{I as le}from"./Image.ec737e29.js";function L(g,a,t){const e=g.slice();return e[3]=a[t],e}function M(g,a,t){const e=g.slice();return e[6]=a[t],e[8]=t,e}function P(g){let a,t;return a=new le({props:{img:g[6].attributes,sizes:"150wv",src:"xlarge",lazy:g[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(g[8]===g[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){Y(a.$$.fragment)},l(e){Z(a.$$.fragment,e)},m(e,c){$(a,e,c),t=!0},p(e,c){const f={};c&1&&(f.img=e[6].attributes),c&1&&(f.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),a.$set(f)},i(e){t||(x(a.$$.fragment,e),t=!0)},o(e){S(a.$$.fragment,e),t=!1},d(e){ee(a,e)}}}function A(g,a){let t,e,c,f,r=a[3].attributes.Nom+"",l,s,u,I,z,v,d=j(a[3].attributes.Images.data),n=[];for(let i=0;i<d.length;i+=1)n[i]=P(M(a,d,i));const R=i=>S(n[i],1,1,()=>{n[i]=null});return{key:g,first:null,c(){t=b("div"),e=b("a"),c=b("div"),f=b("h1"),l=K(r),s=N(),u=b("div");for(let i=0;i<n.length;i+=1)n[i].c();z=N(),this.h()},l(i){t=w(i,"DIV",{class:!0});var h=y(t);e=w(h,"A",{class:!0,href:!0});var o=y(e);c=w(o,"DIV",{class:!0});var k=y(c);f=w(k,"H1",{class:!0});var T=y(f);l=O(T,r),T.forEach(m),k.forEach(m),s=V(o),u=w(o,"DIV",{class:!0});var D=y(u);for(let E=0;E<n.length;E+=1)n[E].l(D);D.forEach(m),o.forEach(m),z=V(h),h.forEach(m),this.h()},h(){_(f,"class","pb-5"),_(c,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),_(u,"class","w-full overflow-hidden landing-image relative flex-auto"),_(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),_(e,"href",I=q.getLocalizedSlug("projects",a[1])+"/"+B(a[3].attributes.Nom)),_(t,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=t},m(i,h){C(i,t,h),p(t,e),p(e,c),p(c,f),p(f,l),p(e,s),p(e,u);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(u,null);p(t,z),v=!0},p(i,h){if(a=i,(!v||h&1)&&r!==(r=a[3].attributes.Nom+"")&&Q(l,r),h&1){d=j(a[3].attributes.Images.data);let o;for(o=0;o<d.length;o+=1){const k=M(a,d,o);n[o]?(n[o].p(k,h),x(n[o],1)):(n[o]=P(k),n[o].c(),x(n[o],1),n[o].m(u,null))}for(G(),o=d.length;o<n.length;o+=1)R(o);H()}(!v||h&3&&I!==(I=q.getLocalizedSlug("projects",a[1])+"/"+B(a[3].attributes.Nom)))&&_(e,"href",I)},i(i){if(!v){for(let h=0;h<d.length;h+=1)x(n[h]);v=!0}},o(i){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)S(n[h]);v=!1},d(i){i&&m(t),U(n,i)}}}function se(g){let a,t=[],e=new Map,c,f=j(g[0]);const r=l=>l[3].id;for(let l=0;l<f.length;l+=1){let s=L(g,f,l),u=r(s);e.set(u,t[l]=A(u,s))}return{c(){a=b("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){a=w(l,"DIV",{class:!0});var s=y(a);for(let u=0;u<t.length;u+=1)t[u].l(s);s.forEach(m),this.h()},h(){_(a,"class","w-full flex flex-row flex-wrap")},m(l,s){C(l,a,s);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(a,null);c=!0},p(l,[s]){s&3&&(f=j(l[0]),G(),t=te(t,s,r,1,l,f,e,a,ae,A,null,L),H())},i(l){if(!c){for(let s=0;s<f.length;s+=1)x(t[s]);c=!0}},o(l){for(let s=0;s<t.length;s+=1)S(t[s]);c=!1},d(l){l&&m(a);for(let s=0;s<t.length;s+=1)t[s].d()}}}function re(g,a,t){let{projects:e}=a,{lang:c}=a;e=e.map(r=>({...r,idxToShow:0}));const f=()=>{for(let r=0;r<e.length;r++)setTimeout(()=>{t(0,e[r]={...e[r],idxToShow:(e[r].idxToShow+1)%e[r].attributes.Images.data.length},e)},r*1e3)};return J(()=>{const r=setInterval(f,5e3);return()=>{clearInterval(r)}}),g.$$set=r=>{"projects"in r&&t(0,e=r.projects),"lang"in r&&t(1,c=r.lang)},[e,c]}class he extends W{constructor(a){super(),X(this,a,re,se,F,{projects:0,lang:1})}}export{he as P};
