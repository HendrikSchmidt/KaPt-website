import{S as w,i as S,s as j,k as d,l as p,m as v,h as m,n as g,b as k,K as N,g as h,v as $,f as A,d as _,M as B,o as E,y as H,z as L,A as M,B as q}from"./index.2dde3162.js";import{i as b,s as y}from"./i18n.b76b6a81.js";import{I as C}from"./Image.b51d6c88.js";function z(s,r,l){const a=s.slice();return a[6]=r[l],a[8]=l,a}function I(s){let r,l;return r=new C({props:{img:s[6].attributes.Images.data[0].attributes,sizes:"150wv",src:"xlarge",lazy:s[8]>0,pictureRelative:!1,classString:"absolute object-cover saturate-0 hover:saturate-100 "+(s[8]===s[0]?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){H(r.$$.fragment)},l(a){L(r.$$.fragment,a)},m(a,i){M(r,a,i),l=!0},p(a,i){const c={};i&1&&(c.classString="absolute object-cover saturate-0 hover:saturate-100 "+(a[8]===a[0]?"opacity-100 z-10":"opacity-0 z-0")),r.$set(c)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){_(r.$$.fragment,a),l=!1},d(a){q(r,a)}}}function D(s){let r,l,a,i,c=s[1],n=[];for(let e=0;e<c.length;e+=1)n[e]=I(z(s,c,e));const f=e=>_(n[e],1,1,()=>{n[e]=null});return{c(){r=d("div"),l=d("a");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){r=p(e,"DIV",{class:!0});var t=v(r);l=p(t,"A",{href:!0});var o=v(l);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(m),t.forEach(m),this.h()},h(){g(l,"href",a=s[1][s[0]].url),g(r,"class","w-full overflow-hidden landing-image relative aspect-[4/3] md:aspect-[3/2]")},m(e,t){k(e,r,t),N(r,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,null);i=!0},p(e,[t]){if(t&3){c=e[1];let o;for(o=0;o<c.length;o+=1){const u=z(e,c,o);n[o]?(n[o].p(u,t),h(n[o],1)):(n[o]=I(u),n[o].c(),h(n[o],1),n[o].m(l,null))}for($(),o=c.length;o<n.length;o+=1)f(o);A()}(!i||t&1&&a!==(a=e[1][e[0]].url))&&g(l,"href",a)},i(e){if(!i){for(let t=0;t<c.length;t+=1)h(n[t]);i=!0}},o(e){n=n.filter(Boolean);for(let t=0;t<n.length;t+=1)_(n[t]);i=!1},d(e){e&&m(r),B(n,e)}}}function K(s,r,l){let{home:a}=r,{lang:i}=r;const c=a.Projets.data.map(t=>({...t,url:`${b.getLocalizedSlug("projects",i)}/${y(t.attributes.Nom)}`})),n=a.News.data.map(t=>({...t,url:`${b.getLocalizedSlug("news",i)}/${y(t.attributes.Nom)}`})),f=c.concat(n);let e=0;return E(()=>{const t=setInterval(()=>{l(0,e=(e+1)%f.length)},5e3);return()=>{clearInterval(t)}}),s.$$set=t=>{"home"in t&&l(2,a=t.home),"lang"in t&&l(3,i=t.lang)},[e,f,a,i]}class F extends w{constructor(r){super(),S(this,r,K,D,j,{home:2,lang:3})}}export{F as H};
