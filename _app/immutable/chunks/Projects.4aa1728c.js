import{S as K,i as O,s as R,k as b,l as w,m as y,h as m,n as _,b as P,v as C,N as F,f as G,g as x,d as I,o as J,q as Q,a as N,r as U,c as q,K as p,u as W,M as X,O as Y,y as Z,z as $,A as ee,B as te}from"./index.2dde3162.js";import{i as D}from"./i18n.e8d51237.js";import{s as V}from"./utils.02725a2a.js";import{I as ae}from"./Image.c834e767.js";function M(g,a,t){const e=g.slice();return e[3]=a[t],e}function A(g,a,t){const e=g.slice();return e[6]=a[t],e[8]=t,e}function B(g){let a,t;return a=new ae({props:{img:g[6].attributes,sizes:"150wv",src:"xlarge",lazy:g[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(g[8]===g[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){Z(a.$$.fragment)},l(e){$(a.$$.fragment,e)},m(e,c){ee(a,e,c),t=!0},p(e,c){const f={};c&1&&(f.img=e[6].attributes),c&1&&(f.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),a.$set(f)},i(e){t||(x(a.$$.fragment,e),t=!0)},o(e){I(a.$$.fragment,e),t=!1},d(e){te(a,e)}}}function L(g,a){let t,e,c,f,o=a[3].attributes.Nom+"",l,s,u,S,z,v,d=a[3].attributes.Images.data,n=[];for(let i=0;i<d.length;i+=1)n[i]=B(A(a,d,i));const H=i=>I(n[i],1,1,()=>{n[i]=null});return{key:g,first:null,c(){t=b("div"),e=b("a"),c=b("div"),f=b("h1"),l=Q(o),s=N(),u=b("div");for(let i=0;i<n.length;i+=1)n[i].c();z=N(),this.h()},l(i){t=w(i,"DIV",{class:!0});var h=y(t);e=w(h,"A",{class:!0,href:!0});var r=y(e);c=w(r,"DIV",{class:!0});var k=y(c);f=w(k,"H1",{class:!0});var T=y(f);l=U(T,o),T.forEach(m),k.forEach(m),s=q(r),u=w(r,"DIV",{class:!0});var E=y(u);for(let j=0;j<n.length;j+=1)n[j].l(E);E.forEach(m),r.forEach(m),z=q(h),h.forEach(m),this.h()},h(){_(f,"class","pb-5"),_(c,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),_(u,"class","w-full overflow-hidden landing-image relative flex-auto"),_(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),_(e,"href",S=D.getLocalizedSlug("projects",a[1])+"/"+V(a[3].attributes.Nom)),_(t,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=t},m(i,h){P(i,t,h),p(t,e),p(e,c),p(c,f),p(f,l),p(e,s),p(e,u);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(u,null);p(t,z),v=!0},p(i,h){if(a=i,(!v||h&1)&&o!==(o=a[3].attributes.Nom+"")&&W(l,o),h&1){d=a[3].attributes.Images.data;let r;for(r=0;r<d.length;r+=1){const k=A(a,d,r);n[r]?(n[r].p(k,h),x(n[r],1)):(n[r]=B(k),n[r].c(),x(n[r],1),n[r].m(u,null))}for(C(),r=d.length;r<n.length;r+=1)H(r);G()}(!v||h&3&&S!==(S=D.getLocalizedSlug("projects",a[1])+"/"+V(a[3].attributes.Nom)))&&_(e,"href",S)},i(i){if(!v){for(let h=0;h<d.length;h+=1)x(n[h]);v=!0}},o(i){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)I(n[h]);v=!1},d(i){i&&m(t),X(n,i)}}}function le(g){let a,t=[],e=new Map,c,f=g[0];const o=l=>l[3].id;for(let l=0;l<f.length;l+=1){let s=M(g,f,l),u=o(s);e.set(u,t[l]=L(u,s))}return{c(){a=b("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){a=w(l,"DIV",{class:!0});var s=y(a);for(let u=0;u<t.length;u+=1)t[u].l(s);s.forEach(m),this.h()},h(){_(a,"class","w-full flex flex-row flex-wrap")},m(l,s){P(l,a,s);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(a,null);c=!0},p(l,[s]){s&3&&(f=l[0],C(),t=F(t,s,o,1,l,f,e,a,Y,L,null,M),G())},i(l){if(!c){for(let s=0;s<f.length;s+=1)x(t[s]);c=!0}},o(l){for(let s=0;s<t.length;s+=1)I(t[s]);c=!1},d(l){l&&m(a);for(let s=0;s<t.length;s+=1)t[s].d()}}}function se(g,a,t){let{projects:e}=a,{lang:c}=a;e=e.map(o=>({...o,idxToShow:0}));const f=()=>{for(let o=0;o<e.length;o++)setTimeout(()=>{t(0,e[o]={...e[o],idxToShow:(e[o].idxToShow+1)%e[o].imagesToShow.length},e)},o*1e3)};return J(()=>{const o=setInterval(f,5e3);return()=>{clearInterval(o)}}),g.$$set=o=>{"projects"in o&&t(0,e=o.projects),"lang"in o&&t(1,c=o.lang)},[e,c]}class ce extends K{constructor(a){super(),O(this,a,se,le,R,{projects:0,lang:1})}}export{ce as P};
