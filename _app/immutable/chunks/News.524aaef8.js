import{S as Q,i as U,s as W,k as b,l as w,m as k,h as g,n as d,b as T,v as L,d as x,f as q,g as S,o as X,e as M,N as Y,O as Z,q as P,r as R,K as p,u as F,L as j,a as A,c as B,M as $,y as ee,z as te,A as le,B as ae}from"./index.2dde3162.js";import{i as I,s as C}from"./i18n.d2c68db6.js";import{I as oe}from"./Image.b51d6c88.js";function G(h,t,l){const e=h.slice();return e[3]=t[l],e}function H(h,t,l){const e=h.slice();return e[6]=t[l],e[8]=l,e}function se(h){let t=[],l=new Map,e,s,n=h[0];const o=r=>r[3].id;for(let r=0;r<n.length;r+=1){let a=G(h,n,r),c=o(a);l.set(c,t[r]=O(c,a))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=M()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=M()},m(r,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(r,a);T(r,e,a),s=!0},p(r,a){a&3&&(n=r[0],L(),t=Y(t,a,o,1,r,n,l,e.parentNode,Z,O,e,G),q())},i(r){if(!s){for(let a=0;a<n.length;a+=1)S(t[a]);s=!0}},o(r){for(let a=0;a<t.length;a+=1)x(t[a]);s=!1},d(r){for(let a=0;a<t.length;a+=1)t[a].d(r);r&&g(e)}}}function re(h){let t,l=I.getLocalizedString("noNews",h[1])+"",e;return{c(){t=b("p"),e=P(l),this.h()},l(s){t=w(s,"P",{class:!0});var n=k(t);e=R(n,l),n.forEach(g),this.h()},h(){d(t,"class","w-full text-center text-xl")},m(s,n){T(s,t,n),p(t,e)},p(s,n){n&2&&l!==(l=I.getLocalizedString("noNews",s[1])+"")&&F(e,l)},i:j,o:j,d(s){s&&g(t)}}}function K(h){let t,l;return t=new oe({props:{img:h[6].attributes,sizes:"150wv",src:"xlarge",lazy:h[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(h[8]===h[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){ee(t.$$.fragment)},l(e){te(t.$$.fragment,e)},m(e,s){le(t,e,s),l=!0},p(e,s){const n={};s&1&&(n.img=e[6].attributes),s&1&&(n.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),t.$set(n)},i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){x(t.$$.fragment,e),l=!1},d(e){ae(t,e)}}}function O(h,t){let l,e,s,n,o=t[3].attributes.Nom+"",r,a,c,m,N,y,v=t[3].imagesToShow,u=[];for(let f=0;f<v.length;f+=1)u[f]=K(H(t,v,f));const J=f=>x(u[f],1,1,()=>{u[f]=null});return{key:h,first:null,c(){l=b("div"),e=b("a"),s=b("div"),n=b("h1"),r=P(o),a=A(),c=b("div");for(let f=0;f<u.length;f+=1)u[f].c();N=A(),this.h()},l(f){l=w(f,"DIV",{class:!0});var _=k(l);e=w(_,"A",{class:!0,href:!0});var i=k(e);s=w(i,"DIV",{class:!0});var z=k(s);n=w(z,"H1",{class:!0});var D=k(n);r=R(D,o),D.forEach(g),z.forEach(g),a=B(i),c=w(i,"DIV",{class:!0});var V=k(c);for(let E=0;E<u.length;E+=1)u[E].l(V);V.forEach(g),i.forEach(g),N=B(_),_.forEach(g),this.h()},h(){d(n,"class","pb-5"),d(s,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),d(c,"class","w-full overflow-hidden landing-image relative flex-auto"),d(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),d(e,"href",m=I.getLocalizedSlug("news",t[1])+"/"+C(t[3].attributes.Nom)),d(l,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=l},m(f,_){T(f,l,_),p(l,e),p(e,s),p(s,n),p(n,r),p(e,a),p(e,c);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(c,null);p(l,N),y=!0},p(f,_){if(t=f,(!y||_&1)&&o!==(o=t[3].attributes.Nom+"")&&F(r,o),_&1){v=t[3].imagesToShow;let i;for(i=0;i<v.length;i+=1){const z=H(t,v,i);u[i]?(u[i].p(z,_),S(u[i],1)):(u[i]=K(z),u[i].c(),S(u[i],1),u[i].m(c,null))}for(L(),i=v.length;i<u.length;i+=1)J(i);q()}(!y||_&3&&m!==(m=I.getLocalizedSlug("news",t[1])+"/"+C(t[3].attributes.Nom)))&&d(e,"href",m)},i(f){if(!y){for(let _=0;_<v.length;_+=1)S(u[_]);y=!0}},o(f){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)x(u[_]);y=!1},d(f){f&&g(l),$(u,f)}}}function ne(h){let t,l,e,s;const n=[re,se],o=[];function r(a,c){return a[0].length===0?0:1}return l=r(h),e=o[l]=n[l](h),{c(){t=b("div"),e.c(),this.h()},l(a){t=w(a,"DIV",{class:!0});var c=k(t);e.l(c),c.forEach(g),this.h()},h(){d(t,"class","w-full flex flex-row flex-wrap")},m(a,c){T(a,t,c),o[l].m(t,null),s=!0},p(a,[c]){let m=l;l=r(a),l===m?o[l].p(a,c):(L(),x(o[m],1,1,()=>{o[m]=null}),q(),e=o[l],e?e.p(a,c):(e=o[l]=n[l](a),e.c()),S(e,1),e.m(t,null))},i(a){s||(S(e),s=!0)},o(a){x(e),s=!1},d(a){a&&g(t),o[l].d()}}}function ie(h,t,l){let{news:e}=t,{lang:s}=t;e=e.map(o=>({...o,imagesToShow:o.attributes.Images.data,idxToShow:0}));const n=()=>{for(let o=0;o<e.length;o++)setTimeout(()=>{l(0,e[o]={...e[o],idxToShow:(e[o].idxToShow+1)%e[o].imagesToShow.length},e)},o*1e3)};return X(()=>{const o=setInterval(n,5e3);return()=>{clearInterval(o)}}),h.$$set=o=>{"news"in o&&l(0,e=o.news),"lang"in o&&l(1,s=o.lang)},[e,s]}class he extends Q{constructor(t){super(),U(this,t,ie,ne,W,{news:0,lang:1})}}export{he as N};
