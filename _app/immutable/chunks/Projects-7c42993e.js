import{S as ne,i as oe,s as ce,e as G,b as T,g as se,Y as ue,d as re,f as N,t as O,h as m,k as b,a as S,q as P,l as g,m as w,c as j,r as M,n as _,J as u,_ as fe,u as B,Z as _e,w as he,x as me,y as de,z as pe,L as z,P as be}from"./index-704757be.js";import{S as ge}from"./SvelteMarkdown-25519681.js";import{v as ve}from"./utils-b7d1412d.js";function x(o,e,a){const t=o.slice();return t[4]=e[a],t[6]=a,t}function ee(o,e,a){const t=o.slice();return t[7]=e[a],t}function ke(o){let e,a,t;return{c(){e=b("img"),this.h()},l(l){e=g(l,"IMG",{src:!0,alt:!0}),this.h()},h(){z(e.src,a=o[4].attributes.Images.data[0].attributes.url)||_(e,"src",a),_(e,"alt",t=o[4].attributes.Images.data[0].attributes.alternativeText)},m(l,s){T(l,e,s)},p(l,s){s&1&&!z(e.src,a=l[4].attributes.Images.data[0].attributes.url)&&_(e,"src",a),s&1&&t!==(t=l[4].attributes.Images.data[0].attributes.alternativeText)&&_(e,"alt",t)},d(l){l&&m(e)}}}function Ie(o){let e,a=o[4].attributes.Images.data,t=[];for(let l=0;l<a.length;l+=1)t[l]=te(ee(o,a,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=G()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=G()},m(l,s){for(let n=0;n<t.length;n+=1)t[n].m(l,s);T(l,e,s)},p(l,s){if(s&1){a=l[4].attributes.Images.data;let n;for(n=0;n<a.length;n+=1){const r=ee(l,a,n);t[n]?t[n].p(r,s):(t[n]=te(r),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=a.length}},d(l){be(t,l),l&&m(e)}}}function te(o){let e,a,t;return{c(){e=b("img"),this.h()},l(l){e=g(l,"IMG",{src:!0,alt:!0}),this.h()},h(){z(e.src,a=o[7].attributes.url)||_(e,"src",a),_(e,"alt",t=o[7].attributes.alternativeText)},m(l,s){T(l,e,s)},p(l,s){s&1&&!z(e.src,a=l[7].attributes.url)&&_(e,"src",a),s&1&&t!==(t=l[7].attributes.alternativeText)&&_(e,"alt",t)},d(l){l&&m(e)}}}function le(o){let e,a;return e=new ge({props:{source:o[4].attributes.Description,options:ve.markdownOptions}}),{c(){he(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,l){de(e,t,l),a=!0},p(t,l){const s={};l&1&&(s.source=t[4].attributes.Description),e.$set(s)},i(t){a||(N(e.$$.fragment,t),a=!0)},o(t){O(e.$$.fragment,t),a=!1},d(t){pe(e,t)}}}function ae(o,e){let a,t,l,s,n,r=e[4].attributes.Nom+"",i,p,$,y=e[4].attributes.Localisation+"",q,C,v,D=e[4].attributes.Surface+"",L,H,E,J,U,Y,I,Z,F;function K(h,f){return h[1][h[6]]?Ie:ke}let V=K(e),d=V(e),c=e[1][e[6]]&&le(e);function ie(){return e[3](e[6])}return{key:o,first:null,c(){a=b("div"),t=b("div"),d.c(),l=S(),s=b("div"),n=b("h2"),i=P(r),p=S(),$=b("p"),q=P(y),C=S(),v=b("p"),L=P(D),H=P(" m"),E=b("sup"),J=P("2"),U=S(),c&&c.c(),Y=S(),this.h()},l(h){a=g(h,"DIV",{class:!0});var f=w(a);t=g(f,"DIV",{class:!0});var Q=w(t);d.l(Q),Q.forEach(m),l=j(f),s=g(f,"DIV",{class:!0});var k=w(s);n=g(k,"H2",{});var R=w(n);i=M(R,r),R.forEach(m),p=j(k),$=g(k,"P",{class:!0});var W=w($);q=M(W,y),W.forEach(m),C=j(k),v=g(k,"P",{class:!0});var A=w(v);L=M(A,D),H=M(A," m"),E=g(A,"SUP",{});var X=w(E);J=M(X,"2"),X.forEach(m),A.forEach(m),U=j(k),c&&c.l(k),k.forEach(m),Y=j(f),f.forEach(m),this.h()},h(){_(t,"class","w-6/12 pr-6"),_($,"class","font-semibold"),_(v,"class","font-semibold"),_(s,"class","w-6/12 prose-sm"),_(a,"class","py-12 flex flex-row justify-around border-b-2 border-black cursor-pointer"),this.first=a},m(h,f){T(h,a,f),u(a,t),d.m(t,null),u(a,l),u(a,s),u(s,n),u(n,i),u(s,p),u(s,$),u($,q),u(s,C),u(s,v),u(v,L),u(v,H),u(v,E),u(E,J),u(s,U),c&&c.m(s,null),u(a,Y),I=!0,Z||(F=fe(a,"click",ie),Z=!0)},p(h,f){e=h,V===(V=K(e))&&d?d.p(e,f):(d.d(1),d=V(e),d&&(d.c(),d.m(t,null))),(!I||f&1)&&r!==(r=e[4].attributes.Nom+"")&&B(i,r),(!I||f&1)&&y!==(y=e[4].attributes.Localisation+"")&&B(q,y),(!I||f&1)&&D!==(D=e[4].attributes.Surface+"")&&B(L,D),e[1][e[6]]?c?(c.p(e,f),f&3&&N(c,1)):(c=le(e),c.c(),N(c,1),c.m(s,null)):c&&(se(),O(c,1,1,()=>{c=null}),re())},i(h){I||(N(c),I=!0)},o(h){O(c),I=!1},d(h){h&&m(a),d.d(),c&&c.d(),Z=!1,F()}}}function we(o){let e=[],a=new Map,t,l,s=o[0];const n=r=>r[4].id;for(let r=0;r<s.length;r+=1){let i=x(o,s,r),p=n(i);a.set(p,e[r]=ae(p,i))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=G()},l(r){for(let i=0;i<e.length;i+=1)e[i].l(r);t=G()},m(r,i){for(let p=0;p<e.length;p+=1)e[p].m(r,i);T(r,t,i),l=!0},p(r,[i]){i&7&&(s=r[0],se(),e=ue(e,i,n,1,r,s,a,t.parentNode,_e,ae,t,x),re())},i(r){if(!l){for(let i=0;i<s.length;i+=1)N(e[i]);l=!0}},o(r){for(let i=0;i<e.length;i+=1)O(e[i]);l=!1},d(r){for(let i=0;i<e.length;i+=1)e[i].d(r);r&&m(t)}}}function $e(o,e,a){let{projects:t}=e;t=t.map(r=>{let i=r.attributes.Description.slice(0,500);return i=`${i.slice(0,i.lastIndexOf(" "))} ...`,{...r,attributes:{...r.attributes,shortDescription:i}}});const l=t.map(()=>!1),s=r=>{a(1,l[r]=!l[r],l)},n=r=>s(r);return o.$$set=r=>{"projects"in r&&a(0,t=r.projects)},[t,l,s,n]}class Se extends ne{constructor(e){super(),oe(this,e,$e,we,ce,{projects:0})}}export{Se as P};
