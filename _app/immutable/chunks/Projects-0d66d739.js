import{S as H,i as J,s as M,k as p,l as v,m as w,h as d,b as j,g as P,_ as O,d as B,f as $,t as I,q as R,a as D,r as A,c as E,n as k,J as g,u as F,R as G,$ as K,w as L,x as Q,y as T,z as U}from"./index-8f8c49e6.js";import{I as W}from"./Image-70e94495.js";function V(f,t,e){const r=f.slice();return r[1]=t[e],r[3]=e,r}function q(f,t,e){const r=f.slice();return r[4]=t[e],r[6]=e,r}function S(f){let t,e,r,n;return e=new W({props:{img:f[4].attributes,sizes:`(max-width: 639px) 90vw,
                    (max-width: 767px) 75vw,
                    (max-width: 1023px) 50vw,
                    (max-width: 1279px) 40vw,
                    (max-width: 1535px) 30vw,
                    25vw`,src:"small",lazy:f[3]>2||f[6]>6,classString:"w-full h-auto aspect-square object-cover object-center saturate-0 hover:saturate-100 transition duration-500 transform hover:scale-110"}}),{c(){t=p("div"),L(e.$$.fragment),r=D(),this.h()},l(l){t=v(l,"DIV",{class:!0});var h=w(t);Q(e.$$.fragment,h),r=E(h),h.forEach(d),this.h()},h(){k(t,"class","flex-none w-2/3 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 mr-8 mb-8 overflow-hidden")},m(l,h){j(l,t,h),T(e,t,null),g(t,r),n=!0},p(l,h){const s={};h&1&&(s.img=l[4].attributes),h&1&&(s.lazy=l[3]>2||l[6]>6),e.$set(s)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){l&&d(t),U(e)}}}function N(f,t){let e,r,n,l=t[1].attributes.Nom+"",h,s,a,_,b,m=t[1].attributes.Images.data,o=[];for(let i=0;i<m.length;i+=1)o[i]=S(q(t,m,i));const C=i=>I(o[i],1,1,()=>{o[i]=null});return{key:f,first:null,c(){e=p("div"),r=p("div"),n=p("h2"),h=R(l),s=D(),a=p("div");for(let i=0;i<o.length;i+=1)o[i].c();_=D(),this.h()},l(i){e=v(i,"DIV",{class:!0});var u=w(e);r=v(u,"DIV",{class:!0});var c=w(r);n=v(c,"H2",{class:!0});var x=w(n);h=A(x,l),x.forEach(d),c.forEach(d),s=E(u),a=v(u,"DIV",{class:!0});var z=w(a);for(let y=0;y<o.length;y+=1)o[y].l(z);z.forEach(d),_=E(u),u.forEach(d),this.h()},h(){k(n,"class","font-normal"),k(r,"class","py-3 mb-5 prose sm:w-2/3 lg:w-1/2 border-b-2 border-zinc-900"),k(a,"class","flex w-full overflow-scroll"),k(e,"class","pb-20 cursor-pointer"),this.first=e},m(i,u){j(i,e,u),g(e,r),g(r,n),g(n,h),g(e,s),g(e,a);for(let c=0;c<o.length;c+=1)o[c].m(a,null);g(e,_),b=!0},p(i,u){if(t=i,(!b||u&1)&&l!==(l=t[1].attributes.Nom+"")&&F(h,l),u&1){m=t[1].attributes.Images.data;let c;for(c=0;c<m.length;c+=1){const x=q(t,m,c);o[c]?(o[c].p(x,u),$(o[c],1)):(o[c]=S(x),o[c].c(),$(o[c],1),o[c].m(a,null))}for(P(),c=m.length;c<o.length;c+=1)C(c);B()}},i(i){if(!b){for(let u=0;u<m.length;u+=1)$(o[u]);b=!0}},o(i){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)I(o[u]);b=!1},d(i){i&&d(e),G(o,i)}}}function X(f){let t,e=[],r=new Map,n,l=f[0];const h=s=>s[1].id;for(let s=0;s<l.length;s+=1){let a=V(f,l,s),_=h(a);r.set(_,e[s]=N(_,a))}return{c(){t=p("div");for(let s=0;s<e.length;s+=1)e[s].c()},l(s){t=v(s,"DIV",{});var a=w(t);for(let _=0;_<e.length;_+=1)e[_].l(a);a.forEach(d)},m(s,a){j(s,t,a);for(let _=0;_<e.length;_+=1)e[_].m(t,null);n=!0},p(s,[a]){a&1&&(l=s[0],P(),e=O(e,a,h,1,s,l,r,t,K,N,null,V),B())},i(s){if(!n){for(let a=0;a<l.length;a+=1)$(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)I(e[a]);n=!1},d(s){s&&d(t);for(let a=0;a<e.length;a+=1)e[a].d()}}}function Y(f,t,e){let{projects:r}=t;return r=r.map(n=>{let l=n.attributes.Description.slice(0,500);return l=`${l.slice(0,l.lastIndexOf(" "))} ...`,{...n,attributes:{...n.attributes,shortDescription:l}}}),f.$$set=n=>{"projects"in n&&e(0,r=n.projects)},[r]}class te extends H{constructor(t){super(),J(this,t,Y,X,M,{projects:0})}}export{te as P};
