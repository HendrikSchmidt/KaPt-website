import{s as F,f as b,g as w,h as y,d as m,j as _,i as C,o as J,l as K,a as N,m as O,c as V,B as p,n as Q,E as U}from"./scheduler.c0d9be51.js";import{S as W,i as X,g as G,c as H,a as x,t as I,b as Y,d as Z,m as $,e as ee}from"./index.44525060.js";import{e as j,u as te,o as ae}from"./each.d35045f2.js";import{i as q}from"./i18n.327004a0.js";import{s as B}from"./utils.99c7460e.js";import{I as le}from"./Image.0718d3dd.js";function L(g,a,t){const e=g.slice();return e[3]=a[t],e}function M(g,a,t){const e=g.slice();return e[6]=a[t],e[8]=t,e}function P(g){let a,t;return a=new le({props:{img:g[6].attributes,sizes:"150wv",src:"xlarge",lazy:g[8]>0,pictureRelative:!1,classString:"absolute object-contain saturate-0 hover:saturate-100 "+(g[8]===g[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")}}),{c(){Y(a.$$.fragment)},l(e){Z(a.$$.fragment,e)},m(e,c){$(a,e,c),t=!0},p(e,c){const f={};c&1&&(f.img=e[6].attributes),c&1&&(f.classString="absolute object-contain saturate-0 hover:saturate-100 "+(e[8]===e[3].idxToShow?"opacity-100 z-10":"opacity-0 z-0")),a.$set(f)},i(e){t||(x(a.$$.fragment,e),t=!0)},o(e){I(a.$$.fragment,e),t=!1},d(e){ee(a,e)}}}function A(g,a){let t,e,c,f,s=a[3].attributes.Nom+"",l,o,u,S,z,v,d=j(a[3].attributes.Images.data),n=[];for(let i=0;i<d.length;i+=1)n[i]=P(M(a,d,i));const R=i=>I(n[i],1,1,()=>{n[i]=null});return{key:g,first:null,c(){t=b("div"),e=b("a"),c=b("div"),f=b("h1"),l=K(s),o=N(),u=b("div");for(let i=0;i<n.length;i+=1)n[i].c();z=N(),this.h()},l(i){t=w(i,"DIV",{class:!0});var h=y(t);e=w(h,"A",{class:!0,href:!0});var r=y(e);c=w(r,"DIV",{class:!0});var k=y(c);f=w(k,"H1",{class:!0});var T=y(f);l=O(T,s),T.forEach(m),k.forEach(m),o=V(r),u=w(r,"DIV",{class:!0});var D=y(u);for(let E=0;E<n.length;E+=1)n[E].l(D);D.forEach(m),r.forEach(m),z=V(h),h.forEach(m),this.h()},h(){_(f,"class","pb-5"),_(c,"class","prose prose-sm lg:prose-base xl:prose-lg 2xl:prose-xl flex-none"),_(u,"class","w-full overflow-hidden landing-image relative flex-auto"),_(e,"class","w-full aspect-square md:aspect-[3/2] lg:aspect-square 2xl:aspect-[3/2] cursor-pointer flex flex-col border-t-2 border-zinc-900 py-5 mb-5"),_(e,"href",S=q.getLocalizedSlug("projects",a[1])+"/"+B(a[3].attributes.Nom)),_(t,"class","w-full lg:w-1/2 flex-none lg:px-5"),this.first=t},m(i,h){C(i,t,h),p(t,e),p(e,c),p(c,f),p(f,l),p(e,o),p(e,u);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(u,null);p(t,z),v=!0},p(i,h){if(a=i,(!v||h&1)&&s!==(s=a[3].attributes.Nom+"")&&Q(l,s),h&1){d=j(a[3].attributes.Images.data);let r;for(r=0;r<d.length;r+=1){const k=M(a,d,r);n[r]?(n[r].p(k,h),x(n[r],1)):(n[r]=P(k),n[r].c(),x(n[r],1),n[r].m(u,null))}for(G(),r=d.length;r<n.length;r+=1)R(r);H()}(!v||h&3&&S!==(S=q.getLocalizedSlug("projects",a[1])+"/"+B(a[3].attributes.Nom)))&&_(e,"href",S)},i(i){if(!v){for(let h=0;h<d.length;h+=1)x(n[h]);v=!0}},o(i){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)I(n[h]);v=!1},d(i){i&&m(t),U(n,i)}}}function oe(g){let a,t=[],e=new Map,c,f=j(g[0]);const s=l=>l[3].id;for(let l=0;l<f.length;l+=1){let o=L(g,f,l),u=s(o);e.set(u,t[l]=A(u,o))}return{c(){a=b("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){a=w(l,"DIV",{class:!0});var o=y(a);for(let u=0;u<t.length;u+=1)t[u].l(o);o.forEach(m),this.h()},h(){_(a,"class","w-full flex flex-row flex-wrap")},m(l,o){C(l,a,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(a,null);c=!0},p(l,[o]){o&3&&(f=j(l[0]),G(),t=te(t,o,s,1,l,f,e,a,ae,A,null,L),H())},i(l){if(!c){for(let o=0;o<f.length;o+=1)x(t[o]);c=!0}},o(l){for(let o=0;o<t.length;o+=1)I(t[o]);c=!1},d(l){l&&m(a);for(let o=0;o<t.length;o+=1)t[o].d()}}}function se(g,a,t){let{projects:e}=a,{lang:c}=a;e=e.map(s=>({...s,idxToShow:0}));const f=()=>{for(let s=0;s<e.length;s++)setTimeout(()=>{t(0,e[s]={...e[s],idxToShow:(e[s].idxToShow+1)%e[s].imagesToShow.length},e)},s*1e3)};return J(()=>{const s=setInterval(f,5e3);return()=>{clearInterval(s)}}),g.$$set=s=>{"projects"in s&&t(0,e=s.projects),"lang"in s&&t(1,c=s.lang)},[e,c]}class he extends W{constructor(a){super(),X(this,a,se,oe,F,{projects:0,lang:1})}}export{he as P};
